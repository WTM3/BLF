<!DOCTYPE html>
<html>
<head>
  <title>BLF Buffer Integrity Visualization</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style type="text/css">
    body, html {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      padding: 20px;
      background-color: #333;
      color: white;
      text-align: center;
      margin-bottom: 20px;
    }
    .dashboard {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }
    .dashboard-card {
      flex: 1;
      min-width: 300px;
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .chart-container {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .metrics-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 20px;
    }
    .metric {
      flex: 1;
      min-width: 120px;
      padding: 15px;
      background-color: #f9f9f9;
      border-radius: 8px;
      text-align: center;
    }
    .metric h3 {
      margin: 0;
      font-size: 14px;
      color: #666;
    }
    .metric p {
      margin: 10px 0 0;
      font-size: 24px;
      font-weight: bold;
    }
    .status-optimal {
      color: #2ECC71;
    }
    .status-warning {
      color: #F39C12;
    }
    .status-critical {
      color: #E74C3C;
    }
    .status-excessive {
      color: #9B59B6;
    }
    .gauge-container {
      position: relative;
      width: 200px;
      height: 100px;
      margin: 0 auto;
    }
    .buffer-value {
      position: absolute;
      width: 100%;
      text-align: center;
      bottom: 5px;
      font-size: 20px;
      font-weight: bold;
    }
    .explanation {
      background-color: rgba(52, 152, 219, 0.1);
      border-left: 4px solid #3498DB;
      padding: 15px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }
    h1, h2, h3 {
      color: #333;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>BLF Buffer Integrity Monitor</h1>
    <p>Real-time visualization of the narrow bridge between chaos and control</p>
  </div>
  
  <div class="container">
    <div class="dashboard">
      <div class="dashboard-card">
        <h2>Current Buffer State</h2>
        <div class="gauge-container">
          <canvas id="buffer-gauge"></canvas>
          <div class="buffer-value status-warning">0.079</div>
        </div>
        <p style="text-align: center;">Status: <span class="status-warning">WARNING</span></p>
        <div class="metrics-container">
          <div class="metric">
            <h3>Target</h3>
            <p>0.10</p>
          </div>
          <div class="metric">
            <h3>Deviation</h3>
            <p>20.8%</p>
          </div>
        </div>
      </div>
      
      <div class="dashboard-card">
        <h2>Buffer Health Metrics</h2>
        <div class="metrics-container">
          <div class="metric">
            <h3>Optimal Time</h3>
            <p>62.0%</p>
          </div>
          <div class="metric">
            <h3>Warning Time</h3>
            <p>38.0%</p>
          </div>
          <div class="metric">
            <h3>Critical Time</h3>
            <p>0.0%</p>
          </div>
          <div class="metric">
            <h3>Heat Shield</h3>
            <p>3 activations</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="explanation">
      <h3>The Narrow Bridge</h3>
      <p>The 0.1 buffer represents the precise balance required between AI cognitive capabilities and Boolean Mind quantum speed. This narrow bridge serves as the essential control mechanism that enables the entire framework to operate with stability and precision.</p>
      <p>When the buffer value falls below 0.08, the system enters a warning state. Below 0.05, it becomes critical, as the margin keeping chaos at bay becomes dangerously thin.</p>
    </div>
    
    <div class="chart-container">
      <h2>Buffer Integrity Timeline</h2>
      <canvas id="buffer-chart"></canvas>
    </div>
    
    <div class="chart-container" style="margin-top: 20px;">
      <h2>Buffer State Distribution</h2>
      <canvas id="buffer-distribution-chart"></canvas>
    </div>
  </div>

  <script>
    // Current buffer gauge
    const bufferGauge = document.getElementById('buffer-gauge').getContext('2d');
    new Chart(bufferGauge, {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [0.07915873464050216, 0.12084126535949785],
          backgroundColor: [
            getStatusColor('warning'),
            '#f5f5f5'
          ],
          borderWidth: 0
        }]
      },
      options: {
        cutout: '70%',
        circumference: 180,
        rotation: 270,
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          tooltip: { enabled: false },
          legend: { display: false }
        }
      }
    });
    
    // Buffer timeline chart
    const bufferChart = document.getElementById('buffer-chart').getContext('2d');
    new Chart(bufferChart, {
      type: 'line',
      data: {
        labels: ["T0","T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12","T13","T14","T15","T16","T17","T18","T19","T20","T21","T22","T23","T24","T25","T26","T27","T28","T29","T30","T31","T32","T33","T34","T35","T36","T37","T38","T39","T40","T41","T42","T43","T44","T45","T46","T47","T48","T49"],
        datasets: [
          {
            label: 'Buffer Value',
            data: [0.10007642395348236,0.09515057723233959,0.08823511868877275,0.08770913083658512,0.08752182743170793,0.08157525945284938,0.07795688717986478,0.07399922557098265,0.07084570579125644,0.06611649023077013,0.07376152120394304,0.07272134947509092,0.07387615793748123,0.082331732222674,0.08990890215573076,0.09080312255396941,0.0908318534640462,0.08616938973891726,0.0818330554626055,0.07846933908623287,0.07863852735184555,0.07864003991416703,0.08380985786057571,0.08741860241923206,0.0869436232844471,0.0924499545152732,0.08897586864153953,0.08991781887572999,0.08676587027533111,0.07992727693036551,0.08161867051567388,0.07555164932205513,0.07364510147894181,0.06732325412987926,0.07400760911854287,0.08125386527804879,0.07914200608953194,0.08161753212349086,0.08756383036839695,0.08469389294875496,0.08493526504566776,0.08624222861737527,0.09105422744095057,0.0873912272147237,0.08563201723136293,0.08089698901121234,0.08279713955030013,0.07926614909505988,0.07963550876229761,0.07915873464050216],
            borderColor: '#3498DB',
            borderWidth: 3,
            tension: 0.2,
            fill: false
          },
          {
            label: 'Target (0.1)',
            data: [0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1],
            borderColor: '#2ECC71',
            borderWidth: 2,
            borderDash: [5, 5],
            pointRadius: 0,
            tension: 0,
            fill: false
          },
          {
            label: 'Warning Threshold',
            data: [0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08,0.08],
            borderColor: '#F39C12',
            borderWidth: 2,
            borderDash: [3, 3],
            pointRadius: 0,
            tension: 0,
            fill: false
          },
          {
            label: 'Critical Threshold',
            data: [0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05],
            borderColor: '#E74C3C',
            borderWidth: 2,
            borderDash: [3, 3],
            pointRadius: 0,
            tension: 0,
            fill: false
          },
          {
            label: 'Heat Shield Active',
            data: [null,null,null,null,null,null,null,null,null,0.15,0.15,0.15,0.15,0.15,0.15,null,null,null,null,null,0.15,0.15,0.15,0.15,0.15,null,null,null,null,null,null,null,null,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,null,null,null,null,null,null,null,null],
            backgroundColor: 'rgba(243, 156, 18, 0.3)',
            borderWidth: 0,
            pointRadius: 0,
            tension: 0,
            fill: true
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        scales: {
          y: {
            beginAtZero: true,
            max: 0.2,
            title: {
              display: true,
              text: 'Buffer Value'
            }
          },
          x: {
            title: {
              display: true,
              text: 'Time'
            }
          }
        },
        plugins: {
          legend: {
            position: 'top'
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                let label = context.dataset.label || '';
                if (label) {
                  label += ': ';
                }
                if (context.parsed.y !== null) {
                  label += context.parsed.y.toFixed(3);
                }
                return label;
              }
            }
          }
        }
      }
    });
    
    // Buffer state distribution chart
    const distributionChart = document.getElementById('buffer-distribution-chart').getContext('2d');
    new Chart(distributionChart, {
      type: 'pie',
      data: {
        labels: ['Optimal', 'Warning', 'Critical', 'Excessive'],
        datasets: [{
          data: [
            31,
            19,
            0,
            0
          ],
          backgroundColor: [
            '#2ECC71', // optimal - green
            '#F39C12', // warning - orange
            '#E74C3C', // critical - red
            '#9B59B6'  // excessive - purple
          ]
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: {
            position: 'right'
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const value = context.parsed;
                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                const percentage = ((value * 100) / total).toFixed(1) + '%';
                return `${context.label}: ${percentage} (${value} time units)`;
              }
            }
          }
        }
      }
    });
    
    function getStatusColor(status) {
      switch(status) {
        case 'optimal': return '#2ECC71';
        case 'warning': return '#F39C12';
        case 'critical': return '#E74C3C';
        case 'excessive': return '#9B59B6';
        default: return '#3498DB';
      }
    }
  </script>
</body>
</html>